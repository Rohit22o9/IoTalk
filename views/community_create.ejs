
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Create Community | Chat App</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="/style.css">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: {
              50: '#eff6ff', 100: '#dbeafe',
              500: '#3b82f6', 600: '#2563eb',
              700: '#1d4ed8', 800: '#1e40af', 900: '#1e3a8a',
            },
            secondary: {
              50: '#f8fafc', 100: '#f1f5f9',
              500: '#64748b', 600: '#475569',
              700: '#334155', 800: '#1e293b', 900: '#0f172a',
            }
          }
        }
      }
    }
  </script>
</head>

<body class="h-screen bg-gradient-to-br from-secondary-50 via-white to-primary-50">
  <div class="h-full flex flex-col">
    <!-- Header -->
    <header class="bg-white/90 backdrop-blur-lg border-b border-secondary-200 px-6 py-4">
      <div class="flex items-center space-x-4">
        <form action="/communities" method="GET" class="inline">
          <button type="submit" class="p-2 rounded-lg hover:bg-secondary-100 transition-colors duration-200">
            <svg class="h-5 w-5 text-secondary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
            </svg>
          </button>
        </form>
        <h1 class="text-2xl font-bold text-secondary-900">Create Community</h1>
      </div>
    </header>

    <!-- Create Form -->
    <main class="flex-1 overflow-y-auto p-6">
      <div class="max-w-2xl mx-auto">
        <div class="bg-white/80 backdrop-blur-lg rounded-2xl p-8 border border-white/20 shadow-lg">
          <form action="/communities/create" method="POST" enctype="multipart/form-data" class="space-y-6">
            <!-- Community Icon -->
            <div class="text-center">
              <div class="flex justify-center">
                <div class="relative">
                  <img id="iconPreview" src="/group_icons/default.png" class="w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg">
                  <label for="icon" class="absolute bottom-0 right-0 bg-primary-500 text-white p-2 rounded-full cursor-pointer hover:bg-primary-600 transition-colors">
                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                  </label>
                  <input type="file" name="icon" id="icon" class="hidden" accept="image/*" onchange="previewIcon(this)">
                </div>
              </div>
              <p class="mt-2 text-sm text-secondary-500">Upload community icon</p>
            </div>

            <!-- Community Name -->
            <div>
              <label for="name" class="block text-sm font-medium text-secondary-700 mb-2">Community Name</label>
              <input type="text" name="name" id="name" required
                     class="w-full px-4 py-3 bg-secondary-50 border border-secondary-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200"
                     placeholder="Enter community name">
            </div>

            <!-- Description -->
            <div>
              <label for="description" class="block text-sm font-medium text-secondary-700 mb-2">Description</label>
              <textarea name="description" id="description" rows="3"
                        class="w-full px-4 py-3 bg-secondary-50 border border-secondary-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200"
                        placeholder="Describe your community..."></textarea>
            </div>

            <!-- Privacy Settings -->
            <div class="space-y-4">
              <h3 class="text-lg font-medium text-secondary-900">Privacy Settings</h3>
              
              <div class="flex items-center">
                <input type="checkbox" name="isPrivate" id="isPrivate" class="rounded border-secondary-300 text-primary-600 focus:ring-primary-500">
                <label for="isPrivate" class="ml-3 text-sm text-secondary-700">Make this community private</label>
              </div>
              
              <div class="flex items-center">
                <input type="checkbox" name="requireApproval" id="requireApproval" class="rounded border-secondary-300 text-primary-600 focus:ring-primary-500">
                <label for="requireApproval" class="ml-3 text-sm text-secondary-700">Require approval for new members</label>
              </div>
              
              <div class="flex items-center">
                <input type="checkbox" name="allowMemberInvites" id="allowMemberInvites" checked class="rounded border-secondary-300 text-primary-600 focus:ring-primary-500">
                <label for="allowMemberInvites" class="ml-3 text-sm text-secondary-700">Allow members to invite others</label>
              </div>
              
              <div class="flex items-center">
                <input type="checkbox" name="allowGroupCreation" id="allowGroupCreation" class="rounded border-secondary-300 text-primary-600 focus:ring-primary-500">
                <label for="allowGroupCreation" class="ml-3 text-sm text-secondary-700">Allow members to create groups</label>
              </div>
            </div>

            <!-- Submit Button -->
            <div class="pt-4">
              <button type="submit" class="w-full bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white py-3 rounded-xl transition-all duration-200 font-medium">
                Create Community
              </button>
            </div>
          </form>
        </div>
      </div>
    </main>
  </div>

  <script>
    function previewIcon(input) {
      if (input.files && input.files[0]) {
        const reader = new FileReader();
        reader.onload = function(e) {
          document.getElementById('iconPreview').src = e.target.result;
        };
        reader.readAsDataURL(input.files[0]);
      }
    }
  </script>
</body>
</html>
